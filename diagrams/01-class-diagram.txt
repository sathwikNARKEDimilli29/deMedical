classDiagram
    class UserRegistry {
        +mapping users
        +mapping kycVerifiers
        +address owner
        +registerUser(string ipfsHash)
        +verifyKYC(address user)
        +revokeKYC(address user)
        +isUserKYCVerified(address user) bool
        +getUserInfo(address user) User
    }
    
    class CreditScore {
        +mapping creditScores
        +mapping authorizedContracts
        +UserRegistry userRegistry
        +uint256 MIN_SCORE
        +uint256 MAX_SCORE
        +uint256 DEFAULT_SCORE
        +initializeCreditScore(address user)
        +recordPayment(address user, bool onTime)
        +recordLoan(address user, bool repaid)
        +getCreditScore(address user) uint256
        +getCreditTier(address user) string
    }
    
    class InsurancePool {
        +mapping pools
        +mapping poolMembers
        +UserRegistry userRegistry
        +CreditScore creditScore
        +uint256 poolCount
        +uint256 claimCount
        +createPool(...) uint256
        +joinPool(uint256 poolId) payable
        +submitClaim(...) uint256
        +voteClaim(uint256 claimId, bool approve)
        +processClaim(uint256 claimId)
    }
    
    class MicroLoan {
        +mapping loans
        +mapping borrowerLoans
        +mapping collaterals
        +mapping coSignerApprovals
        +UserRegistry userRegistry
        +CreditScore creditScore
        +InsurancePool insurancePool
        +uint256 loanCount
        +uint256 poolBalance
        +requestLoan(...) uint256
        +requestLoanWithCollateral(...) uint256
        +requestLoanWithCoSigner(...) uint256
        +requestPoolBackedLoan(...) uint256
        +repayLoan(uint256 loanId) payable
        +calculateInterestRate(uint256 score) uint256
        +calculateTotalOwed(uint256 loanId) uint256
        +approveCosigning(address borrower)
    }
    
    class PaymentPlan {
        +mapping bnplPlans
        +mapping snplPlans
        +UserRegistry userRegistry
        +CreditScore creditScore
        +uint256 bnplCount
        +uint256 snplCount
        +createBNPL(...) uint256
        +payBNPLInstallment(uint256 planId) payable
        +createSNPL(...) uint256
        +depositToSNPL(uint256 planId) payable
    }
    
    class BugBounty {
        +mapping researchers
        +mapping reports
        +mapping leaderboard
        +UserRegistry userRegistry
        +uint256 researcherCount
        +uint256 reportCount
        +address owner
        +registerResearcher(string name)
        +submitReport(...) uint256
        +validateReport(uint256 reportId)
        +approveReport(uint256 reportId)
        +rejectReport(uint256 reportId)
        +awardBounty(uint256 reportId) payable
        +getLeaderboard() Researcher[]
    }
    
    class Pool {
        +uint256 id
        +string name
        +address creator
        +uint256 targetAmount
        +uint256 totalContributed
        +uint256 memberCount
        +PoolType poolType
        +bool isActive
    }
    
    class Claim {
        +uint256 id
        +uint256 poolId
        +address claimant
        +uint256 amount
        +ClaimStatus status
        +uint256 approvalCount
        +uint256 rejectionCount
    }
    
    class Loan {
        +uint256 id
        +address borrower
        +uint256 principal
        +uint256 interestRate
        +uint256 duration
        +uint256 amountRepaid
        +LoanStatus status
        +LoanType loanType
        +uint256 collateralAmount
        +address coSigner
        +uint256 poolId
    }
    
    class Researcher {
        +address researcherAddress
        +string name
        +uint256 totalReports
        +uint256 approvedReports
        +uint256 totalRewards
        +uint256 reputation
    }
    
    class BugReport {
        +uint256 id
        +address researcher
        +Severity severity
        +string title
        +string description
        +ReportStatus status
        +uint256 reward
    }

    UserRegistry <-- CreditScore : depends on
    UserRegistry <-- InsurancePool : depends on
    UserRegistry <-- MicroLoan : depends on
    UserRegistry <-- PaymentPlan : depends on
    UserRegistry <-- BugBounty : depends on
    CreditScore <-- InsurancePool : uses
    CreditScore <-- MicroLoan : uses
    CreditScore <-- PaymentPlan : uses
    InsurancePool <-- MicroLoan : uses
    InsurancePool "1" *-- "many" Pool : contains
    InsurancePool "1" *-- "many" Claim : manages
    MicroLoan "1" *-- "many" Loan : manages
    BugBounty "1" *-- "many" Researcher : tracks
    BugBounty "1" *-- "many" BugReport : manages
