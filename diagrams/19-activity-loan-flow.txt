flowchart TD
    Start([User Needs Loan]) --> Check[Check Credit Score]
    Check --> Display[Display Score & Rate]
    Display --> Choose{Choose Loan Type}
    
    Choose -->|Unsecured| Unsecured[Standard Rate]
    Choose -->|Collateral| Collateral[Deposit 50% Collateral]
    Choose -->|Co-Signed| CoSigner[Get Co-Signer Approval]
    Choose -->|Pool-Backed| PoolBacked[Insurance Pool Coverage]
    
    Unsecured --> Form[Fill Application]
    Collateral --> Form
    CoSigner --> Form
    PoolBacked --> Form
    
    Form --> UploadDocs[Upload Medical Bills]
    UploadDocs --> IPFSHash[Get IPFS Hash]
    IPFSHash --> RequestTx[Call requestLoan]
    RequestTx --> Verify{Credit â‰¥ 300?}
    
    Verify -->|No| Denied([Loan Denied])
    Verify -->|Yes| Calculate[Calculate Interest]
    Calculate --> AutoApprove[Auto-Approve]
    AutoApprove --> TransferFunds[Transfer ETH]
    TransferFunds --> SaveDB[Save to DB]
    SaveDB --> Success([Loan Active])
    
    style Start fill:#e1f5ff
    style Success fill:#c8e6c9
    style Denied fill:#ffcdd2
