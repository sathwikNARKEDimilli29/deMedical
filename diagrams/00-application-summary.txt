# Nishkama Platform - Complete Application Summary & LLM Prompt

## üìã Application Overview

**Name**: Nishkama  
**Type**: Blockchain-Powered Healthcare Insurance Platform  
**Target Audience**: Middle-class individuals seeking affordable healthcare coverage  
**Core Innovation**: Pooled insurance with proportional contributions and claims, integrated with micro-loans and flexible payment plans

---

## üéØ Core Value Proposition

De-Medical revolutionizes healthcare insurance by:
1. **Democratic Pooled Insurance**: Members contribute proportionally and claims are distributed based on contribution percentage
2. **On-Chain Credit Scoring**: Transparent, blockchain-based credit scores that improve with good payment behavior
3. **Healthcare Micro-Loans**: Quick loans (0.01-10 ETH) with credit-based interest rates (5-25% APR)
4. **Flexible Payment Options**: Buy Now Pay Later (BNPL) and Save Now Pay Later (SNPL) for medical expenses
5. **AI-Powered Guidance**: 24/7 chatbot assistant with personalized recommendations

---

## üèóÔ∏è Complete Architecture

### Technology Stack

**Blockchain Layer:**
- Solidity 0.8.20
- Hardhat development environment
- OpenZeppelin contracts (security + standards)
- ethers.js v6 (Web3 integration)
- Local Hardhat Network (Chain ID: 1337)

**Backend:**
- Node.js + Express.js
- MongoDB (NoSQL database)
- RESTful API architecture
- JWT authentication
- Axios for HTTP requests
- Multer for file uploads

**Frontend:**
- Next.js 14 (App Router)
- React 18
- TailwindCSS (styling)
- Framer Motion (animations)
- ethers.js (blockchain interaction)

**Storage:**
- IPFS via Pinata (document storage)
- MongoDB Atlas (database)

**Authentication:**
- Wallet-based (MetaMask)
- JWT tokens
- Session management

---

## üìú Smart Contracts (5 Total)

### 1. UserRegistry.sol
**Purpose**: User management and KYC verification
**Key Features**: User registration with IPFS document storage, KYC verification by authorized verifiers, role-based access control

### 2. CreditScore.sol
**Purpose**: On-chain credit scoring system (0-900 scale)
**Scoring**: 40% loan repayment, 30% payment punctuality, 20% credit history, 10% successful loans
**Tiers**: Excellent (750-900), Good (650-749), Fair (550-649), Poor (450-549), Very Poor (300-449)

### 3. InsurancePool.sol
**Purpose**: Pooled insurance with democratic governance
**Pool Types**: HEALTH, LIFE, ACCIDENT, CRITICAL_ILLNESS
**Novel Feature**: Proportional payouts based on contribution percentage, 60% approval threshold

### 4. MicroLoan.sol
**Purpose**: Healthcare micro-loans with credit-based rates
**Parameters**: 0.01-10 ETH, 7-365 days, Min credit 400
**Interest Rates**: 5% (800+), 8% (700-799), 12% (600-699), 15% (500-599), 20% (400-499), 25% (<400)

### 5. PaymentPlan.sol
**Purpose**: BNPL and SNPL payment solutions
**BNPL**: 2-12 installments, 3-15% interest (credit-based), min score 450
**SNPL**: 3-24 months, no interest, flexible deposits

---

## üóÑÔ∏è Database Schema (MongoDB)

**User**: walletAddress (UK), email, password, fullName, phone, dateOfBirth, isKYCVerified, kycDocuments, profileImage
**Pool**: poolId (UK), name, description, creator, poolType (enum), targetAmount, currentAmount, memberCount, maxMembers, isActive, members[], analytics
**Claim**: claimId (UK), poolId (FK), claimant (FK), amount, description, documents, status (enum), votes[], approvalCount, rejectionCount
**Loan**: loanId (UK), borrower (FK), principal, interestRate, duration, amountRepaid, status (enum), purpose, documents, repayments[]
**CreditHistory**: userAddress (UK), currentScore (300-900), scoreHistory[], factors, tier (enum)

---

## üîå Backend API (Base: http://localhost:5000/api)

**Auth** (/auth): POST register, POST login/wallet, GET profile/:address, PUT profile/:address
**Pools** (/pools): GET all, GET :poolId, POST create, PUT :poolId
**Claims** (/claims): GET filtered, POST create, PUT :claimId
**Loans** (/loans): GET by borrower, POST create, PUT :loanId
**Credit** (/credit): GET :address (auto-init 500), PUT :address
**Payments** (/payments): GET bnpl/:address, GET snpl/:address
**IPFS** (/ipfs): POST upload (file), POST upload-json, GET url/:hash
**AI** (/ai): POST chat, POST recommend

---

## üíª Frontend Pages (Next.js App Router)

**Landing** (/): Hero, features, stats, how-it-works, CTA
**Auth**: /auth/login (wallet), /auth/register (with KYC upload)
**Dashboard** (/dashboard): 4 stat cards, quick actions, AI recommendations
**Pools** (/pools): Category filters, pool cards, join/create
**Claims** (/claims): List with status, vote counts, submit claim
**Loans** (/loans): Credit score display, application form, repayment
**Credit Score** (/credit-score): Large score, tier, factor breakdown, tips
**Payment Plans** (/payment-plans): BNPL/SNPL tabs, create/manage plans

---

## üîÑ Key Workflows

**Registration**: Connect wallet ‚Üí Check exists ‚Üí Form ‚Üí Upload KYC to IPFS ‚Üí Call registerUser() ‚Üí Save DB ‚Üí Generate JWT ‚Üí Init credit (500) ‚Üí Dashboard

**Join Pool**: Browse ‚Üí Select ‚Üí Enter amount ‚Üí MetaMask approve ‚Üí Verify (KYC, not full, min met) ‚Üí Add member ‚Üí Update balance ‚Üí Emit event ‚Üí Update DB

**Submit Claim**: Emergency ‚Üí Gather docs ‚Üí Upload IPFS ‚Üí Fill form ‚Üí Submit ‚Üí Status PENDING ‚Üí Notify members
**Vote Claim**: Review docs ‚Üí Cast vote ‚Üí Record on-chain ‚Üí Check threshold (50% participation) ‚Üí Calculate (60% approval) ‚Üí Payout if approved

**Loan**: Apply ‚Üí Upload docs to IPFS ‚Üí Check credit ‚â• 400 ‚Üí Calculate interest ‚Üí Auto-approve ‚Üí Transfer funds ‚Üí Status ACTIVE
**Repay**: Pay ‚Üí Record ‚Üí Update credit (+5 on-time, -10 late) ‚Üí Status REPAID if complete

**BNPL**: Choose installments ‚Üí View total with interest ‚Üí Create ‚Üí Check credit ‚â• 450 ‚Üí Transfer funds ‚Üí Monthly payments ‚Üí Update credit score

---

## üé® Design System

**Colors**: Primary (#0ea5e9), Secondary (#d946ef), Dark theme (#18181b background, #27272a cards)
**Classes**: .btn-primary (gradient), .card (dark), .card-gradient, .glass (glassmorphism), .gradient-text
**Animations**: Float, pulse, gradient backgrounds, hover scales, Framer Motion transitions

---

## üìÇ File Structure

```
De-Medical/
‚îú‚îÄ‚îÄ contracts/ (5 .sol files)
‚îú‚îÄ‚îÄ scripts/ (deploy.js)
‚îú‚îÄ‚îÄ test/ (DeMedical.test.js)
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ models/ (5 schemas)
‚îÇ   ‚îú‚îÄ‚îÄ routes/ (8 route files)
‚îÇ   ‚îú‚îÄ‚îÄ services/ (ipfsService.js)
‚îÇ   ‚îî‚îÄ‚îÄ server.js
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ app/ (10+ pages)
‚îÇ   ‚îú‚îÄ‚îÄ components/ (Navbar, AIAssistant, providers)
‚îÇ   ‚îî‚îÄ‚îÄ configs (next, tailwind, postcss)
‚îú‚îÄ‚îÄ diagrams/ (11 UML diagrams)
‚îî‚îÄ‚îÄ docs (README, etc.)
```

---

## üöÄ Deployment

**Ports**: Hardhat (8545), Backend (5000), Frontend (3000), MongoDB (27017)
**Setup**: npm install ‚Üí Deploy contracts ‚Üí Update .env with addresses ‚Üí Start services

---

## üí° Novel Features

1. Proportional insurance (contributions/claims scale)
2. Democratic governance (60% approval)
3. Dynamic credit scoring (on-chain)
4. Integrated payment ecosystem (BNPL + SNPL + Loans)
5. AI recommendations (personalized)
6. IPFS integration (decentralized docs)

---

## üìä Statistics

- 5 Smart Contracts (~1,500 LOC Solidity)
- 12 Backend Files (~1,200 LOC JavaScript)
- 20+ Frontend Components (~2,500 LOC React/Next.js)
- 11 UML Diagrams
- 30+ Test Cases
- 24 Use Cases

---

## üéØ 24 Use Cases

**User Management**: Register, Login, Update Profile, Upload KYC
**Pools**: Create, Join, Contribute, View Details
**Claims**: Submit, Vote, Track Status, Receive Payout
**Loans**: Apply, Repay, Check Eligibility
**Credit**: View Score, Track History, Improve
**Payments**: Create BNPL, Pay Installment, Create SNPL, Make Deposit
**AI**: Chat, Get Recommendations

---

## üîê Security

- ReentrancyGuard on all state changes
- Access control (owner, verifiers)
- KYC verification required
- JWT authentication
- Password hashing (bcrypt)
- Input validation
- Late fee mechanisms

---

**This document provides complete understanding of the Nishkama platform for LLM prompting or technical documentation.**
